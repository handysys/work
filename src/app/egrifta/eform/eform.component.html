<div id = "tform-container">
    <div class = "title-section">
      <div class = "text" id = 'title-text'>
        <h2 class = "dark-blue">
          {{'form.title' | translate}}
        </h2>
      </div>
      <div class = "image" id = "title-image">
        <img src="assets/imgs/main/Egrifta_Logo_Small.png" alt="Egrifta logo">
      </div>
    </div>
    <div class = "form-section">
      <form  role="form" (ngSubmit)="request()" #requestForm="ngForm" method="POST">
        <input type="text" ngModel #info="ngModel" name = "info" class = "form-control" id = "info" hidden>
        <div class = "require">
          {{'form.require' | translate}}
        </div>
        <div class = "option dark-blue">
          <div class = "before-form">
              {{'form.type' | translate}} 
          </div>
          <div class = "before-form">
            <input type="radio" name = "type" value = "patient" class = "form-control" id = "patient" [checked]="!hcp" (change)="selectedChange('patient')">
            <label >{{'form.patient' | translate}}</label>
          </div>
          <div class = "before-form">
            <input type="radio" name = "type" value = "hcp" class = "form-control" id = "hcp" (change)="selectedChange('hcp')" [checked]="hcp" >
            <label >{{'form.hcp' | translate}}</label><br> 
          </div>
        </div>
        <!-- <div class = "row">
            <div class = "error-message" *ngIf="type.invalid">{{'form.error1' | translate}}</div>
          </div>         -->
          <div class = "row form-group">
          <div class = "request-left">
            <input type="text" placeholder="{{'form.fname' | translate}}" required ngModel #firstName="ngModel"
            name = "firstName" class = "form-control" id = "firstName" >
            <div class = "error-message" *ngIf="firstName.touched && firstName.errors?.required">{{'form.error2' | translate}}</div>
          </div>
          <div class = "request-right">
            <input type="text" placeholder="{{'form.lname' | translate}}" required ngModel #lastName="ngModel"
            name = "lastName" class = "form-control" id = "lastName">
            <div class = "error-message" *ngIf="lastName.touched && lastName.errors?.required">{{'form.error3' | translate}}</div>
          </div>
          <div class = "request-left">
            <input type="text" placeholder="{{'form.address' | translate}}" ngModel #address="ngModel" name = "address" class = "form-control" id = "address" >
          </div>
          <div class = "request-right">
            <input type="text" placeholder="{{'form.city' | translate}}" required required ngModel #city="ngModel"
            name = "city" class = "form-control" id = "city">
            <div class = "error-message" *ngIf="city.touched && city.errors?.required">{{'form.error4' | translate}}</div>
          </div>
          <div class = "request-left">        
            <div class = "request-left">
              <select required name = "state" class = "form-control" id = "state" (change)="selectedState($event.target.value)">
                <option class = "select-placeholder" value="*State" disabled selected>{{'form.state' | translate}}</option>
                <option value="Alabama">Alabama</option>
                <option value="Alaska">Alaska</option>
                <option value="Arizona">Arizona</option>
                <option value="Arkansas">Arkansas</option>
                <option value="California">California</option>
                <option value="Colorado">Colorado</option>
                <option value="Connecticut">Connecticut</option>
                <option value="Delaware">Delaware</option>
                <option value="District of Columbia">District of Columbia</option>
                <option value="Florida">Florida</option>
                <option value="Georgia">Georgia</option>
                <option value="Guam">Guam</option>
                <option value="Hawaii">Hawaii</option>
                <option value="Idaho">Idaho</option>
                <option value="Illinois">Illinois</option>
                <option value="Indiana">Indiana</option>
                <option value="Iowa">Iowa</option>
                <option value="Kansas">Kansas</option>
                <option value="Kentucky">Kentucky</option>
                <option value="Louisiana">Louisiana</option>
                <option value="Maine">Maine</option>
                <option value="Maryland">Maryland</option>
                <option value="Massachusetts">Massachusetts</option>
                <option value="Michigan">Michigan</option>
                <option value="Minnesota">Minnesota</option>
                <option value="Mississippi">Mississippi</option>
                <option value="Missouri">Missouri</option>
                <option value="Montana">Montana</option>
                <option value="Nebraska">Nebraska</option>
                <option value="Nevada">Nevada</option>
                <option value="New Hampshire">New Hampshire</option>
                <option value="New Jersey">New Jersey</option>
                <option value="New Mexico">New Mexico</option>
                <option value="New York">New York</option>
                <option value="North Carolina">North Carolina</option>
                <option value="North Dakota">North Dakota</option>
                <option value="Northern Marianas Islands">Northern Marianas Islands</option>
                <option value="Ohio">Ohio</option>
                <option value="Oklahoma">Oklahoma</option>
                <option value="Oregon">Oregon</option>
                <option value="Pennsylvania">Pennsylvania</option>
                <option value="Puerto Rico">Puerto Rico</option>
                <option value="Rhode Island">Rhode Island</option>
                <option value="South Carolina">South Carolina</option>
                <option value="South Dakota">South Dakota</option>
                <option value="Tennessee">Tennessee</option>
                <option value="Texas">Texas</option>
                <option value="Utah">Utah</option>
                <option value="Vermont">Vermont</option>
                <option value="Virginia">Virginia</option>
                <option value="Virgin Islands">Virgin Islands</option>
                <option value="Washington">Washington</option>
                <option value="West Virginia">West Virginia</option>
                <option value="Wisconsin">Wisconsin</option>
                <option value="Wyoming">Wyoming</option>
              </select>
              <!-- <div class = "error-message" *ngIf="state.touched && state.errors?.required">{{'form.error5' | translate}}</div> -->
            </div>
            <div class = "request-right">
              <input type="text" placeholder="{{'form.zip' | translate}}" required ngModel #zip="ngModel" minlength="5"
              name = "zip" class = "form-control" id = "zip">
              <div class = "error-message" *ngIf="zip.touched && !zip.valid">{{'form.error6' | translate}}</div>
            </div>
          </div>
          <div class = "request-right">     
            <input type="text" placeholder="{{'form.phone' | translate}}" required ngModel #telephone="ngModel" minlength="10"
            name = "telephone" class = "form-control" id = "telephone">
            <div class = "error-message" *ngIf="telephone.touched && !telephone.valid">{{'form.error7' | translate}}</div>
          </div>
        </div>
        <div class = "row">
          <input type="email" placeholder="{{'form.mail' | translate}}" pattern = "^[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" required ngModel #email="ngModel"
          name = "email" class = "form-control" id = "email">
          <div class = "error-message" *ngIf="email.touched && !email.valid">{{'form.error8' | translate}}</div>
        </div>
        <div class = "row">
            <textarea cols="30" rows="10" placeholder="{{'form.comment' | translate}}" required ngModel #comments="ngModel" 
            name = "comments" class = "form-control" id = "comments"></textarea>
            <div class = "error-message" *ngIf="comments.touched && comments.errors?.required">{{'form.error9' | translate}}</div>
        </div>
        <div class = "legal" [innerHTML]= "'form.legal' | translate">  
        </div>
        <div class = "button-section">
          <input type="image" src = "{{'form.submit' | translate}}" alt = "submit image" width="80px" height="80px" >      
          <img src="{{'form.cancel' | translate}}" alt="cancel image" width="80px" height="80px" (click) = "cancelClick()">
        </div>       
      </form>
    </div>
  </div>
  <div class = "lightbox" id = "lightbox" hidden>
      <div class = "lightbox-content">
          <div id = "close" (click) = "closePopup()" class = "dark-blue">X</div>
          <h2 class = "dark-blue">{{'form.thanks' | translate}}</h2> 
          <p class = "dark-blue" [innerHTML]= "'form.info' | translate"></p>
          <a class = "pointer"><img (click) = "backHome()" src="{{'form.back' | translate}}" alt="back to home"></a>
      </div>
    </div>
  